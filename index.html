<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Southern Table</title>
<style>
body {
  font-family: 'Segoe UI', Helvetica, Arial, sans-serif;
  background: #800020;
  color: #fff;
  margin:0; padding:0;
}
h1,h2{color:#ffd700;text-align:center;}
.section{background:#900030;padding:20px;margin:20px;border-radius:10px;}
.item{background:#b03040;padding:10px;margin:10px;border-radius:5px;border:1px solid #ccc;text-align:center;}
button{padding:8px 15px;margin:5px;border:none;border-radius:5px;background:#800020;color:#fff;font-weight:600;cursor:pointer;}
button:hover{background:#900030;}
input,textarea{width:100%;margin:5px 0;padding:8px;border-radius:5px;border:1px solid #ccc;}
table{width:100%;border-collapse:collapse;background:#fff;color:#000;}
th,td{border:1px solid #ccc;padding:8px;text-align:center;}
#cartContainer{display:none;background:#b03040;padding:10px;margin:10px;border-radius:5px;}
</style>
</head>
<body>

<!-- Login -->
<div id="loginScreen" class="section">
<h1>Welcome To The Southern Table</h1>
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button id="loginBtn">Login</button>
</div>

<!-- Admin Panel -->
<div id="adminPanel" style="display:none;">
<h1>Admin Dashboard</h1>
<button id="adminLogout">Logout</button>

<!-- Header Image -->
<div class="section">
<h2>Header Image</h2>
<input type="file" id="headerUpload">
<img id="headerPreview" src="" style="max-width:300px; display:block; margin:10px auto;">
<button id="saveHeader">Save Header</button>
</div>

<!-- Tabs -->
<div class="section">
<button class="tabBtn active" onclick="showAdminTab('hoodiesTab')">Hoodies</button>
<button class="tabBtn" onclick="showAdminTab('exclusivesTab')">Exclusives</button>
<button class="tabBtn" onclick="showAdminTab('missionTab')">Mission/Goals</button>
<button class="tabBtn" onclick="showAdminTab('faqTab')">FAQ</button>
</div>

<!-- Hoodies Tab -->
<div id="hoodiesTab" class="section admin-tab">
<h2>Hoodies</h2>
<div id="hoodiesContainer"></div>
<button id="addHoodieBtn">Add Hoodie Slot</button>
</div>

<!-- Exclusives Tab -->
<div id="exclusivesTab" class="section admin-tab" style="display:none;">
<h2>Exclusives</h2>
<textarea id="exclusivesText" rows="5">Items coming soon!</textarea>
</div>

<!-- Mission Tab -->
<div id="missionTab" class="section admin-tab" style="display:none;">
<h2>Mission/Goals</h2>
<textarea id="missionText" rows="5">Enter your Mission/Goals here.</textarea>
</div>

<!-- FAQ Tab -->
<div id="faqTab" class="section admin-tab" style="display:none;">
<h2>FAQ</h2>
<textarea id="faqText" rows="5">Shipping within USA only. Local deliveries in Brooklyn +$5. International shipping not available.</textarea>
</div>

<button id="saveAll">Save All Changes</button>
</div>

<!-- Customer View -->
<div id="customerApp" style="display:none;">
<img id="headerCustomer" src="" style="max-width:300px; display:block; margin:10px auto;">
<div class="section">
<h2>Hoodies</h2>
<div id="hoodiesList"></div>
</div>
<div class="section">
<h2>Exclusives</h2>
<div id="exclusivesList"></div>
</div>
<div class="section">
<h2>Mission/Goals</h2>
<div id="missionView"></div>
</div>
<div class="section">
<h2>FAQ</h2>
<div id="faqView"></div>
</div>
<button id="viewCartBtn">View Cart</button>
<div id="cartContainer">
<h3>Cart</h3>
<div id="cartItems"></div>
<p>Total: $<span id="cartTotal">0</span></p>
<button id="checkoutBtn">Checkout</button>
</div>
</div>

<script>
// --- Admin Login ---
const ADMIN_USER="Southern";
const ADMIN_PASS="Crunchy";

document.getElementById('loginBtn').addEventListener('click',()=>{
  const user=document.getElementById('username').value;
  const pass=document.getElementById('password').value;
  if(user===ADMIN_USER && pass===ADMIN_PASS){
    document.getElementById('loginScreen').style.display='none';
    document.getElementById('adminPanel').style.display='block';
    loadAdminData();
  } else { alert('Incorrect username or password'); }
});

// --- Admin Tabs ---
function showAdminTab(tab){
  document.querySelectorAll('.admin-tab').forEach(d=>d.style.display='none');
  document.getElementById(tab).style.display='block';
}

// --- Hoodies Management ---
let hoodies = [];
function loadAdminData(){
  const storedH = JSON.parse(localStorage.getItem('hoodies')) || [];
  hoodies = storedH;
  const hc = document.getElementById('hoodiesContainer'); hc.innerHTML='';
  hoodies.forEach((h,i)=> hc.appendChild(createHoodieSlot(h,i)));
  document.getElementById('headerPreview').src = localStorage.getItem('headerImg') || '';
  document.getElementById('exclusivesText').value = localStorage.getItem('exclusives') || 'Items coming soon!';
  document.getElementById('missionText').value = localStorage.getItem('mission') || '';
  document.getElementById('faqText').value = localStorage.getItem('faq') || '';
}

function createHoodieSlot(h,index){
  const div = document.createElement('div'); div.className='item';
  div.innerHTML=`
    <img src="${h.img||''}" class="imgPreview" style="max-width:150px; display:block; margin:auto;">
    <input type="file" class="imgUpload">
    <input type="text" class="hText" placeholder="Hoodie description" value="${h.text||''}">
    <input type="number" class="hPrice" placeholder="Price" value="${h.price||75}">
    <button class="removeBtn">Delete</button>
  `;
  const imgInput = div.querySelector('.imgUpload');
  const imgPreview = div.querySelector('.imgPreview');
  imgInput.addEventListener('change', e=>{
    const file=e.target.files[0]; if(file){
      const reader=new FileReader();
      reader.onload=ee=>imgPreview.src=ee.target.result;
      reader.readAsDataURL(file);
    }
  });
  div.querySelector('.removeBtn').addEventListener('click', ()=>{
    hoodies.splice(index,1);
    loadAdminData();
  });
  return div;
}

document.getElementById('addHoodieBtn').addEventListener('click', ()=>{
  hoodies.push({img:'',text:'',price:75});
  loadAdminData();
});

document.getElementById('saveAll').addEventListener('click', saveAdminData);
document.getElementById('saveHeader').addEventListener('click', ()=> localStorage.setItem('headerImg', document.getElementById('headerPreview').src));

// --- Admin Logout saves and shows customer view ---
document.getElementById('adminLogout').addEventListener('click', ()=>{
  saveAdminData();
  document.getElementById('adminPanel').style.display='none';
  document.getElementById('customerApp').style.display='block';
  loadCustomerContent();
});

// --- Customer Content ---
let cart = JSON.parse(localStorage.getItem('cart'))||[];

function loadCustomerContent(){
  document.getElementById('headerCustomer').src=localStorage.getItem('headerImg')||'';
  document.getElementById('missionView').innerText=localStorage.getItem('mission')||'';
  document.getElementById('faqView').innerText=localStorage.getItem('faq')||'';
  document.getElementById('exclusivesList').innerText=localStorage.getItem('exclusives')||'Items coming soon!';
  const hoodiesData = JSON.parse(localStorage.getItem('hoodies'))||[];
  const hoodiesList = document.getElementById('hoodiesList'); hoodiesList.innerHTML='';
  hoodiesData.forEach(h=>{
    const div = document.createElement('div'); div.className='item';
    div.innerHTML=`<img src="${h.img}"><strong>${h.text}</strong><p>$${h.price}</p>`;
    const btn = document.createElement('button'); btn.textContent='Add to Cart';
    btn.addEventListener('click', ()=> addToCart(h));
    div.appendChild(btn);
    hoodiesList.appendChild(div);
  });
}

// --- Cart Functions ---
function addToCart(item){
  let qty=prompt('Quantity','1'); if(!qty) return; qty=Number(qty);
  let price=Number(item.price); if(qty>=2) price+=10;
  const delivery=prompt('Delivery: Brooklyn +$5 or enter address','Brooklyn');
  cart.push({...item,qty,price,delivery});
  localStorage.setItem('cart',JSON.stringify(cart));
  alert(`Added ${qty} x ${item.text}`);
}

document.getElementById('viewCartBtn').addEventListener('click', ()=>{
  const c=document.getElementById('cartContainer');
  c.style.display=c.style.display==='none'?'block':'none';
  renderCart();
});

function renderCart(){
  const container=document.getElementById('cartItems'); container.innerHTML='';
  let total=0;
  cart.forEach((item,i)=>{
    const div=document.createElement('div');
    div.innerText=`${item.text} - $${item.price} x ${item.qty} (${item.delivery})`;
    const remove=document.createElement('button'); remove.textContent='Remove';
    remove.addEventListener('click', ()=>{cart.splice(i,1); saveCart(); renderCart();});
    div.appendChild(remove); container.appendChild(div);
    total+=item.price*item.qty;
  });
  document.getElementById('cartTotal').innerText=total.toFixed(2);
}

function saveCart(){localStorage.setItem('cart',JSON.stringify(cart));}

document.getElementById('checkoutBtn').addEventListener('click', ()=>{
  if(cart.length===0){alert('Cart empty'); return;}
  if(confirm('Checkout?')){cart=[]; saveCart(); renderCart(); alert('Order placed!');}
});

// --- Init ---
window.addEventListener('load', loadCustomerContent);
</script>
</body>
</html>




    

