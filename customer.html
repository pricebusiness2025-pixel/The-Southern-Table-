<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Southern Table - Customer</title>
<style>
  body { background: #800020; color: white; font-family: 'Sans-serif'; margin:0; padding:0; }
  header { background: #800020; padding: 10px; text-align:center; position:sticky; top:0; z-index:1000; }
  header img { max-height: 60px; }
  nav { display:flex; justify-content:center; background:#800020; }
  nav button { background:#800020; color:white; border:2px solid gold; margin:5px; padding:10px; cursor:pointer; }
  nav button.active { background:gold; color:#800020; }
  section { padding: 20px; display:none; }
  .visible { display:block; }
  .product-grid { display:flex; flex-wrap:wrap; gap:10px; }
  .product-card { background:#fff; color:#000; padding:10px; flex:1 0 150px; text-align:center; border-radius:8px; }
  .product-card img { width:100%; height:auto; border-radius:5px; }
  .checkout-card { background:#fff; color:#000; padding:15px; border-radius:10px; max-width:400px; margin:auto; }
  .sticky-footer { position:sticky; bottom:0; background:#800020; color:white; text-align:center; padding:10px; border-top:2px solid gold; }
  input[type=number] { width:60px; }
  select { padding:5px; }
</style>
</head>
<body>

<header>
  <img id="header-logo" src="" alt="The Southern Table Logo">
</header>

<nav>
  <button data-tab="hoodies" class="active">Hoodies</button>
  <button data-tab="exclusives">Exclusives</button>
  <button data-tab="mission">Mission/FAQ</button>
  <button data-tab="checkout">Checkout</button>
</nav>

<!-- Hoodies Tab -->
<section id="hoodies" class="visible">
  <h2>Hoodies</h2>
  <div class="product-grid" id="hoodie-grid"></div>
</section>

<!-- Exclusives Tab -->
<section id="exclusives">
  <h2>Exclusives</h2>
  <div class="product-grid" id="exclusive-grid"></div>
</section>

<!-- Mission / FAQ -->
<section id="mission">
  <h2>Mission & Goals</h2>
  <p>High-quality, comfortable hoodies—available year-round with rustic style. Limited edition drops bring exclusive designs for those who want something truly unique. Every order is seamless, delivering standout pieces with creativity, authenticity, and comfort.</p>
  <h3>FAQ</h3>
  <ul>
    <li><strong>How long will it take to receive my hoodie?</strong> Standard production: 2–5 business days + US shipping 3–7 days.</li>
    <li><strong>When can I place an order?</strong> Orders accepted every Wednesday and Saturday (A.M.).</li>
    <li><strong>Do you offer local delivery?</strong> Local Brooklyn: +$5. In-person pickup free.</li>
    <li><strong>Can I pay with a card?</strong> Cash/CashApp only. Card coming soon.</li>
    <li><strong>Sizes:</strong> S–3XL. Extra $10 for 2XL and 3XL.</li>
    <li><strong>Can I change/cancel order?</strong> Contact ASAP. Once production starts, cannot cancel.</li>
    <li><strong>Are hoodies limited edition?</strong> Some LTO, year-round basics always available.</li>
  </ul>
</section>

<!-- Checkout Tab -->
<section id="checkout">
  <h2>Checkout</h2>
  <div class="checkout-card">
    <label>Hoodie Color:
      <select id="checkout-color">
        <option value="Black">Black</option>
        <option value="Grey">Grey</option>
        <option value="Burgundy">Burgundy</option>
        <option value="Gold">Gold</option>
      </select>
    </label><br><br>
    <label>Size:
      <select id="checkout-size">
        <option value="S">S</option>
        <option value="M">M</option>
        <option value="L">L</option>
        <option value="XL">XL</option>
        <option value="2XL">2XL (+$10)</option>
        <option value="3XL">3XL (+$10)</option>
      </select>
    </label><br><br>
    <label>Quantity: <input type="number" id="checkout-qty" min="1" max="10" value="1"></label><br><br>
    <label>Delivery:
      <select id="checkout-delivery">
        <option value="pickup">In-person Pickup (Free)</option>
        <option value="brooklyn">Local Brooklyn +$5</option>
        <option value="shipping">Direct Shipping (enter address)</option>
      </select>
    </label><br><br>
    <div id="checkout-address" style="display:none;">
      <label>Shipping Address: <input type="text" id="shipping-address"></label><br><br>
    </div>
    <p>Total: $<span id="checkout-total">75</span></p>
    <p>Scan CashApp QR to pay or use Cash:</p>
    <img id="cashapp-qr" src="" alt="CashApp QR" style="width:150px;"><br><br>
    <button id="checkout-btn">Submit Order</button>
  </div>
</section>

<div class="sticky-footer">
  &copy; The Southern Table Est 2025 - Crunchy Thangs LLC 2024
</div>

<script>
  // Tabs
  const tabs = document.querySelectorAll('nav button');
  const sections = document.querySelectorAll('section');
  tabs.forEach(btn => {
    btn.addEventListener('click', () => {
      tabs.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      sections.forEach(s => s.classList.remove('visible'));
      document.getElementById(btn.dataset.tab).classList.add('visible');
    });
  });  

  // Show/hide shipping address
  const deliverySelect = document.getElementById('checkout-delivery');
  const addressDiv = document.getElementById('checkout-address');
  deliverySelect.addEventListener('change', () => {
    addressDiv.style.display = deliverySelect.value === 'shipping' ? 'block' : 'none';
  });

  // Load images from localStorage (admin uploads)
  function loadImages() {
    const hoodieGrid = document.getElementById('hoodie-grid');
    hoodieGrid.innerHTML = '';
    const exclusivesGrid = document.getElementById('exclusive-grid');
    exclusivesGrid.innerHTML = '';

    const hoodies = JSON.parse(localStorage.getItem('adminHoodies') || '[]');
    const exclusives = JSON.parse(localStorage.getItem('adminExclusives') || '[]');
    const headerLogo = localStorage.getItem('headerLogo') || '';
    const qr = localStorage.getItem('cashappQR') || '';

    document.getElementById('header-logo').src = headerLogo;
    document.getElementById('cashapp-qr').src = qr;

    hoodies.forEach(h => {
      const div = document.createElement('div');
      div.className = 'product-card';
      div.innerHTML = `<img src="${h.url}" alt="${h.name}"><p>${h.name}</p>`;
      hoodieGrid.appendChild(div);
    });

  exclusives.forEach(e => {
      const div = document.createElement('div');
      div.className = 'product-card';
      div.innerHTML = `<img src="${e.url}" alt="${e.name}"><p>${e.name}</p>`;
      exclusivesGrid.appendChild(div);
    });
  }
  loadImages();

  // Checkout total calculation
  const checkoutQty = document.getElementById('checkout-qty');
  const checkoutSize = document.getElementById('checkout-size');
  const checkoutDelivery = document.getElementById('checkout-delivery');
  const totalEl = document.getElementById('checkout-total');

  function updateTotal() {
    let base = 75;
    const sizeFee = (checkoutSize.value === '2XL' || checkoutSize.value === '3XL') ? 10 : 0;
    let deliveryFee = 0;
    if(checkoutDelivery.value === 'brooklyn') deliveryFee = 5;
    let qty = parseInt(checkoutQty.value) || 1;
    const total = (base + sizeFee) * qty + deliveryFee;
    totalEl.textContent = total;
  }

  checkoutQty.addEventListener('input', updateTotal);
  checkoutSize.addEventListener('change', updateTotal);
  checkoutDelivery.addEventListener('change', updateTotal);
  updateTotal();

    // Submit Order (store locally)
  document.getElementById('checkout-btn').addEventListener('click', () => {
    const order = {
      color: document.getElementById('checkout-color').value,
      size: checkoutSize.value,
      quantity: checkoutQty.value,
      delivery: checkoutDelivery.value,
      address: document.getElementById('shipping-address').value,
      total: totalEl.textContent,
      timestamp: new Date().toISOString()
    };
    const orders = JSON.parse(localStorage.getItem('customerOrders') || '[]');
    orders.push(order);
    localStorage.setItem('customerOrders', JSON.stringify(orders));
    alert('Order submitted! Remember to pay via Cash/CashApp.');
  });
</script>

</body>
</html>
